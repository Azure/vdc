interactions:
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/vdc-storage-rg?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 15 Feb 2019 08:18:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: '{"sku": {"name": "Standard_LRS"}, "kind": "BlobStorage", "location": "Central
      US", "properties": {"encryption": {"services": {"blob": {"enabled": true}},
      "keySource": "Microsoft.Storage"}, "accessTier": "Cool", "supportsHttpsTrafficOnly":
      true, "isHnsEnabled": false}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['268']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          azure-mgmt-storage/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vdc-storage-rg/providers/Microsoft.Storage/storageAccounts/storage?api-version=2018-02-01
  response:
    body: {string: '{"sku":{"name":"Standard_LRS","tier":"Standard"},"kind":"BlobStorage","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vdc-storage-rg/providers/Microsoft.Storage/storageAccounts/storage","name":"storage","type":"Microsoft.Storage/storageAccounts","location":"centralus","tags":{},"properties":{"isHnsEnabled":false,"networkAcls":{"bypass":"AzureServices","virtualNetworkRules":[],"ipRules":[],"defaultAction":"Allow"},"supportsHttpsTrafficOnly":true,"encryption":{"services":{"file":{"enabled":true,"lastEnabledTime":"2019-01-11T18:35:45.2178641Z"},"blob":{"enabled":true,"lastEnabledTime":"2019-01-11T18:35:45.2178641Z"}},"keySource":"Microsoft.Storage"},"accessTier":"Cool","provisioningState":"Succeeded","creationTime":"2019-01-11T18:35:45.1084128Z","primaryEndpoints":{"dfs":"https://storage.dfs.core.windows.net/","blob":"https://storage.blob.core.windows.net/","table":"https://storage.table.core.windows.net/"},"primaryLocation":"centralus","statusOfPrimary":"available"}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1039']
      content-type: [application/json]
      date: ['Fri, 15 Feb 2019 08:18:14 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          azure-mgmt-storage/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vdc-storage-rg/providers/Microsoft.Storage/storageAccounts/storage/listKeys?api-version=2018-02-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","value":"abhilQXu5bl0SupY1dseiX95b6eBNA6R0Ho0d9FbHpTFC+B1cEUhgWr9oIEagQXGdilU5raOIpH5Pq/XVv7ifA==","permissions":"FULL"},{"keyName":"key2","value":"i6qj7OB3AYeCFizUvPPi6d9uSvbMkEdVmGDVwhwTw9qmtFo597nyvohXgOMiDzYb8nMuu1ER9gumkA66Fi+tEw==","permissions":"FULL"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['288']
      content-type: [application/json]
      date: ['Fri, 15 Feb 2019 08:18:15 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['0']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          azure-mgmt-storage/2.0.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: POST
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/vdc-storage-rg/providers/Microsoft.Storage/storageAccounts/storage/listKeys?api-version=2018-02-01
  response:
    body: {string: '{"keys":[{"keyName":"key1","value":"abhilQXu5bl0SupY1dseiX95b6eBNA6R0Ho0d9FbHpTFC+B1cEUhgWr9oIEagQXGdilU5raOIpH5Pq/XVv7ifA==","permissions":"FULL"},{"keyName":"key2","value":"i6qj7OB3AYeCFizUvPPi6d9uSvbMkEdVmGDVwhwTw9qmtFo597nyvohXgOMiDzYb8nMuu1ER9gumkA66Fi+tEw==","permissions":"FULL"}]}'}
    headers:
      cache-control: [no-cache]
      content-length: ['288']
      content-type: [application/json]
      date: ['Fri, 15 Feb 2019 08:18:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: ['Microsoft-Azure-Storage-Resource-Provider/1.0,Microsoft-HTTPAPI/2.0
          Microsoft-HTTPAPI/2.0']
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: '{"properties": {"displayName": "permittedRegions", "description": "Policy
      to restrict resource creation to only certain regions", "policyRule": {"if":
      {"not": {"field": "location", "in": ["eastus", "westus", "westus2", "centralus",
      "westcentralus", "westeurope"]}}, "then": {"effect": "audit"}}, "metadata":
      {"category": "VDC"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['329']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/permittedRegions?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"permittedRegions","policyType":"Custom","description":"Policy
        to restrict resource creation to only certain regions","metadata":{"category":"VDC"},"policyRule":{"if":{"not":{"field":"location","in":["eastus","westus","westus2","centralus","westcentralus","westeurope"]}},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/permittedRegions","type":"Microsoft.Authorization/policyDefinitions","name":"permittedRegions"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['534']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:36 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"properties": {"displayName": "permittedRegions", "policyDefinitionId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/permittedRegions"},
      "name": "permittedRegions"}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['225']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/permittedRegions?api-version=2018-05-01
  response:
    body: {string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"displayName":"permittedRegions","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/permittedRegions","scope":"/subscriptions/00000000-0000-0000-0000-000000000000"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/permittedRegions","type":"Microsoft.Authorization/policyAssignments","name":"permittedRegions"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['494']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"properties": {"displayName": "enforceStandardTags", "description": "Policy
      to enforce standard tags", "policyRule": {"if": {"anyOf": [{"field": "tags.environment",
      "exists": false}, {"field": "tags.appCode", "exists": false}, {"field": "tags.managedBy",
      "exists": false}, {"field": "tags.source", "exists": false}, {"field": "tags.dataClassification",
      "exists": false}, {"field": "tags.supportTier", "exists": false}, {"field":
      "tags.costCenter", "exists": false}]}, "then": {"effect": "audit"}}, "metadata":
      {"category": "VDC"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['532']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStandardTags?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"enforceStandardTags","policyType":"Custom","description":"Policy
        to enforce standard tags","metadata":{"category":"VDC"},"policyRule":{"if":{"anyOf":[{"field":"tags.environment","exists":false},{"field":"tags.appCode","exists":false},{"field":"tags.managedBy","exists":false},{"field":"tags.source","exists":false},{"field":"tags.dataClassification","exists":false},{"field":"tags.supportTier","exists":false},{"field":"tags.costCenter","exists":false}]},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStandardTags","type":"Microsoft.Authorization/policyDefinitions","name":"enforceStandardTags"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['724']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:38 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"properties": {"displayName": "enforceStandardTags", "policyDefinitionId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStandardTags"},
      "name": "enforceStandardTags"}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['234']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/enforceStandardTags?api-version=2018-05-01
  response:
    body: {string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"displayName":"enforceStandardTags","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStandardTags","scope":"/subscriptions/00000000-0000-0000-0000-000000000000"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/enforceStandardTags","type":"Microsoft.Authorization/policyAssignments","name":"enforceStandardTags"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['506']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"properties": {"displayName": "enforceAllowedVMImages", "description":
      "Policy to enforce the use of specific VM Images", "policyRule": {"if": {"allOf":
      [{"field": "type", "equals": "Microsoft.Compute/virtualMachines"}, {"not": {"field":
      "Microsoft.Compute/imageId", "in": "[parameters(''imageIds'')]"}}]}, "then":
      {"effect": "audit"}}, "metadata": {"category": "VDC"}, "parameters": {"imageIds":
      {"type": "array", "metadata": {"description": "The list of allowed VM Images.",
      "displayName": "Allowed VM Images"}}}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['515']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceAllowedVMImages?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"enforceAllowedVMImages","policyType":"Custom","description":"Policy
        to enforce the use of specific VM Images","metadata":{"category":"VDC"},"parameters":{"imageIds":{"type":"Array","metadata":{"description":"The
        list of allowed VM Images.","displayName":"Allowed VM Images"}}},"policyRule":{"if":{"allOf":[{"field":"type","equals":"Microsoft.Compute/virtualMachines"},{"not":{"field":"Microsoft.Compute/imageId","in":"[parameters(''imageIds'')]"}}]},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceAllowedVMImages","type":"Microsoft.Authorization/policyDefinitions","name":"enforceAllowedVMImages"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['723']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:39 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"properties": {"displayName": "auditNSGUnassigned", "description": "Policy
      that audits all NSGs that are not assigned to a NIC or Subnet", "policyRule":
      {"if": {"allOf": [{"field": "type", "equals": "Microsoft.Network/networkSecurityGroups"},
      {"allOf": [{"not": {"field": "Microsoft.Network/networkSecurityGroups/subnets[*].id",
      "exists": true}}, {"not": {"field": "Microsoft.Network/networkSecurityGroups/networkInterfaces[*].id",
      "exists": true}}]}]}, "then": {"effect": "audit"}}, "metadata": {"category":
      "VDC"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['518']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/auditNSGUnassigned?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"auditNSGUnassigned","policyType":"Custom","description":"Policy
        that audits all NSGs that are not assigned to a NIC or Subnet","metadata":{"category":"VDC"},"policyRule":{"if":{"allOf":[{"field":"type","equals":"Microsoft.Network/networkSecurityGroups"},{"allOf":[{"not":{"field":"Microsoft.Network/networkSecurityGroups/subnets[*].id","exists":true}},{"not":{"field":"Microsoft.Network/networkSecurityGroups/networkInterfaces[*].id","exists":true}}]}]},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/auditNSGUnassigned","type":"Microsoft.Authorization/policyDefinitions","name":"auditNSGUnassigned"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['721']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"properties": {"displayName": "auditNSGUnassigned", "policyDefinitionId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/auditNSGUnassigned"},
      "name": "auditNSGUnassigned"}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['231']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/auditNSGUnassigned?api-version=2018-05-01
  response:
    body: {string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"displayName":"auditNSGUnassigned","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/auditNSGUnassigned","scope":"/subscriptions/00000000-0000-0000-0000-000000000000"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/auditNSGUnassigned","type":"Microsoft.Authorization/policyAssignments","name":"auditNSGUnassigned"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['502']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"properties": {"displayName": "enforceStorageEncryption", "description":
      "Policy to restrict storage account creation to only those applying encryption",
      "policyRule": {"if": {"allOf": [{"field": "type", "equals": "Microsoft.Storage/storageAccounts"},
      {"not": {"field": "Microsoft.Storage/storageAccounts/enableBlobEncryption",
      "equals": "true"}}]}, "then": {"effect": "audit"}}, "metadata": {"category":
      "VDC"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['414']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageEncryption?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"enforceStorageEncryption","policyType":"Custom","description":"Policy
        to restrict storage account creation to only those applying encryption","metadata":{"category":"VDC"},"policyRule":{"if":{"allOf":[{"field":"type","equals":"Microsoft.Storage/storageAccounts"},{"not":{"field":"Microsoft.Storage/storageAccounts/enableBlobEncryption","equals":"true"}}]},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageEncryption","type":"Microsoft.Authorization/policyDefinitions","name":"enforceStorageEncryption"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['635']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:41 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"properties": {"displayName": "enforceStorageEncryption", "policyDefinitionId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageEncryption"},
      "name": "enforceStorageEncryption"}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['249']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/enforceStorageEncryption?api-version=2018-05-01
  response:
    body: {string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"displayName":"enforceStorageEncryption","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageEncryption","scope":"/subscriptions/00000000-0000-0000-0000-000000000000"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/enforceStorageEncryption","type":"Microsoft.Authorization/policyAssignments","name":"enforceStorageEncryption"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['526']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:42 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"properties": {"displayName": "enforceStorageHttpsAccess", "description":
      "Policy to enforce Https Access", "policyRule": {"if": {"allOf": [{"field":
      "type", "equals": "Microsoft.Storage/storageAccounts"}, {"field": "Microsoft.Storage/storageAccounts/supportsHttpsTrafficOnly",
      "equals": "false"}]}, "then": {"effect": "audit"}}, "metadata": {"category":
      "VDC"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['364']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageHttpsAccess?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"enforceStorageHttpsAccess","policyType":"Custom","description":"Policy
        to enforce Https Access","metadata":{"category":"VDC"},"policyRule":{"if":{"allOf":[{"field":"type","equals":"Microsoft.Storage/storageAccounts"},{"field":"Microsoft.Storage/storageAccounts/supportsHttpsTrafficOnly","equals":"false"}]},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageHttpsAccess","type":"Microsoft.Authorization/policyDefinitions","name":"enforceStorageHttpsAccess"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['588']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"properties": {"displayName": "enforceStorageHttpsAccess", "policyDefinitionId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageHttpsAccess"},
      "name": "enforceStorageHttpsAccess"}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['252']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/enforceStorageHttpsAccess?api-version=2018-05-01
  response:
    body: {string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"displayName":"enforceStorageHttpsAccess","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageHttpsAccess","scope":"/subscriptions/00000000-0000-0000-0000-000000000000"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/enforceStorageHttpsAccess","type":"Microsoft.Authorization/policyAssignments","name":"enforceStorageHttpsAccess"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['530']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:43 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"properties": {"displayName": "enforceStorageServiceEndpoint", "description":
      "Policy to enforce Storage Account service endpoint", "policyRule": {"if": {"allOf":
      [{"field": "type", "equals": "Microsoft.Storage/storageAccounts"}, {"not": {"field":
      "Microsoft.Storage/storageAccounts/networkAcls.virtualNetworkRules[*].id", "exists":
      true}}]}, "then": {"effect": "audit"}}, "metadata": {"category": "VDC"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['407']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageServiceEndpoint?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"enforceStorageServiceEndpoint","policyType":"Custom","description":"Policy
        to enforce Storage Account service endpoint","metadata":{"category":"VDC"},"policyRule":{"if":{"allOf":[{"field":"type","equals":"Microsoft.Storage/storageAccounts"},{"not":{"field":"Microsoft.Storage/storageAccounts/networkAcls.virtualNetworkRules[*].id","exists":true}}]},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageServiceEndpoint","type":"Microsoft.Authorization/policyDefinitions","name":"enforceStorageServiceEndpoint"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['638']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1198']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"properties": {"displayName": "enforceStorageServiceEndpoint",
      "policyDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageServiceEndpoint"},
      "name": "enforceStorageServiceEndpoint"}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['264']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/enforceStorageServiceEndpoint?api-version=2018-05-01
  response:
    body: {string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"displayName":"enforceStorageServiceEndpoint","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/enforceStorageServiceEndpoint","scope":"/subscriptions/00000000-0000-0000-0000-000000000000"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyAssignments/enforceStorageServiceEndpoint","type":"Microsoft.Authorization/policyAssignments","name":"enforceStorageServiceEndpoint"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['546']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:44 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: HEAD
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/org-iaas-la-rg?api-version=2018-05-01
  response:
    body: {string: ''}
    headers:
      cache-control: [no-cache]
      content-length: ['0']
      date: ['Fri, 15 Feb 2019 08:18:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
    status: {code: 204, message: No Content}
- request:
    body: '{"properties": {"displayName": "SharedServicesOpsPermittedResourceTypes",
      "description": "Policy to prevent the creation of unauthorized resource types
      within the resource group.", "policyRule": {"if": {"not": {"field": "type",
      "in": ["Microsoft.OperationalInsights/workspaces", "Microsoft.Network/networkWatchers"]}},
      "then": {"effect": "audit"}}, "metadata": {"category": "VDC"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['382']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/SharedServicesOpsPermittedResourceTypes?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"SharedServicesOpsPermittedResourceTypes","policyType":"Custom","description":"Policy
        to prevent the creation of unauthorized resource types within the resource
        group.","metadata":{"category":"VDC"},"policyRule":{"if":{"not":{"field":"type","in":["Microsoft.OperationalInsights/workspaces","Microsoft.Network/networkWatchers"]}},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/SharedServicesOpsPermittedResourceTypes","type":"Microsoft.Authorization/policyDefinitions","name":"SharedServicesOpsPermittedResourceTypes"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['637']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:45 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"properties": {"displayName": "SharedServicesOpsPermittedResourceTypes",
      "policyDefinitionId": "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/SharedServicesOpsPermittedResourceTypes"},
      "name": "SharedServicesOpsPermittedResourceTypes"}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['294']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.Authorization/policyAssignments/SharedServicesOpsPermittedResourceTypes?api-version=2018-05-01
  response:
    body: {string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"displayName":"SharedServicesOpsPermittedResourceTypes","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/SharedServicesOpsPermittedResourceTypes","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.Authorization/policyAssignments/SharedServicesOpsPermittedResourceTypes","type":"Microsoft.Authorization/policyAssignments","name":"SharedServicesOpsPermittedResourceTypes"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['654']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:46 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: '{"properties": {"displayName": "denyPublicIP", "description": "Policy to
      prevent the creation of public ip resources", "policyRule": {"if": {"field":
      "type", "in": ["Microsoft.Network/publicIPAddresses"]}, "then": {"effect": "audit"}},
      "metadata": {"category": "VDC"}}}'
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['269']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/denyPublicIP?api-version=2018-05-01
  response:
    body: {string: '{"properties":{"displayName":"denyPublicIP","policyType":"Custom","description":"Policy
        to prevent the creation of public ip resources","metadata":{"category":"VDC"},"policyRule":{"if":{"field":"type","in":["Microsoft.Network/publicIPAddresses"]},"then":{"effect":"audit"}}},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/denyPublicIP","type":"Microsoft.Authorization/policyDefinitions","name":"denyPublicIP"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['472']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''b\''{"properties": {"displayName": "denyPublicIP", "policyDefinitionId":
      "/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/denyPublicIP"},
      "name": "denyPublicIP"}\'''''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['213']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          policyclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.Authorization/policyAssignments/denyPublicIP?api-version=2018-05-01
  response:
    body: {string: '{"sku":{"name":"A0","tier":"Free"},"properties":{"displayName":"denyPublicIP","policyDefinitionId":"/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/policyDefinitions/denyPublicIP","scope":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg"},"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.Authorization/policyAssignments/denyPublicIP","type":"Microsoft.Authorization/policyAssignments","name":"denyPublicIP"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['546']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:47 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 201, message: Created}
- request:
    body: 'b''{"properties": {"template": {"$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
      "contentVersion": "1.0.0.0", "parameters": {"deployment-prefix": {"type": "string",
      "metadata": {"description": "Deployment prefix. E.g. Organization-DeploymentType"}},
      "service-tier": {"type": "string", "allowedValues": ["Free", "Standalone", "PerNode"],
      "metadata": {"description": "Service Tier: Free, Standalone, or PerNode"}},
      "data-retention": {"type": "int", "defaultValue": 30, "minValue": 7, "maxValue":
      730, "metadata": {"description": "Number of days data will be retained for."}},
      "location": {"type": "string", "allowedValues": ["Australia Southeast", "Canada
      Central", "Central India", "East US", "Japan East", "Southeast Asia", "UK South",
      "West Europe", "West US 2"], "metadata": {"description": "Region used when establishing
      the workspace."}}, "sas-key": {"defaultValue": "se=2019-02-16T00%3A18%3A36Z&sp=r&spr=https&sv=2018-03-28&ss=b&srt=o&sig=JwYBirxaJJNuvCNWb2W/ARclpuwh8WTcAgpS7aOAoa4%3D",
      "type": "string"}, "output-params-storage-key": {"defaultValue": "abhilQXu5bl0SupY1dseiX95b6eBNA6R0Ho0d9FbHpTFC+B1cEUhgWr9oIEagQXGdilU5raOIpH5Pq/XVv7ifA==",
      "type": "string"}, "output-params-storage-account-name": {"defaultValue": "storage",
      "type": "string"}}, "variables": {"oms-workspace-name": "[concat(parameters(\''deployment-prefix\''),
      \''-la\'')]"}, "resources": [{"apiVersion": "2017-03-15-preview", "name": "[variables(\''oms-workspace-name\'')]",
      "location": "[parameters(\''location\'')]", "tags": {}, "type": "Microsoft.OperationalInsights/workspaces",
      "properties": {"sku": {"Name": "[parameters(\''service-tier\'')]"}, "retention":
      "[parameters(\''data-retention\'')]"}}], "outputs": {"oms-id": {"type": "string",
      "value": "[resourceId(\''Microsoft.OperationalInsights/workspaces\'', variables(\''oms-workspace-name\''))]"},
      "oms-workspace-resourceGroup": {"type": "string", "value": "[resourceGroup().name]"},
      "oms-workspace-name": {"type": "string", "value": "[variables(\''oms-workspace-name\'')]"},
      "oms-workspace-id": {"type": "string", "value": "[reference(resourceId(\''Microsoft.OperationalInsights/workspaces\'',
      variables(\''oms-workspace-name\'')), \''2015-03-20\'').customerId]"}, "oms-primary-shared-key":
      {"type": "string", "value": "[listKeys(resourceId(\''Microsoft.OperationalInsights/workspaces\'',
      variables(\''oms-workspace-name\'')), \''2015-03-20\'').primarySharedKey]"}}},
      "parameters": {"deployment-prefix": {"value": "org-iaas"}, "data-retention":
      {"value": 30}, "location": {"value": "West US 2"}, "service-tier": {"value":
      "PerNode"}, "sas-key": {"value": "se=2019-02-16T00%3A18%3A36Z&sp=r&spr=https&sv=2018-03-28&ss=b&srt=o&sig=JwYBirxaJJNuvCNWb2W/ARclpuwh8WTcAgpS7aOAoa4%3D"},
      "output-params-storage-key": {"value": "abhilQXu5bl0SupY1dseiX95b6eBNA6R0Ho0d9FbHpTFC+B1cEUhgWr9oIEagQXGdilU5raOIpH5Pq/XVv7ifA=="},
      "output-params-storage-account-name": {"value": "storage"}}, "mode": "Incremental"}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['2931']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/org-iaas-la-rg/providers/Microsoft.Resources/deployments/org-workload-iaas-deployment-la?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.Resources/deployments/org-workload-iaas-deployment-la","name":"org-workload-iaas-deployment-la","properties":{"templateHash":"7373821363752239923","parameters":{"deployment-prefix":{"type":"String","value":"org-iaas"},"service-tier":{"type":"String","value":"PerNode"},"data-retention":{"type":"Int","value":30},"location":{"type":"String","value":"West
        US 2"},"sas-key":{"type":"String","value":"se=2019-02-16T00%3A18%3A36Z&sp=r&spr=https&sv=2018-03-28&ss=b&srt=o&sig=JwYBirxaJJNuvCNWb2W/ARclpuwh8WTcAgpS7aOAoa4%3D"},"output-params-storage-key":{"type":"String","value":"abhilQXu5bl0SupY1dseiX95b6eBNA6R0Ho0d9FbHpTFC+B1cEUhgWr9oIEagQXGdilU5raOIpH5Pq/XVv7ifA=="},"output-params-storage-account-name":{"type":"String","value":"storage"}},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2019-02-15T08:18:50.398877Z","duration":"PT0.3804179S","correlationId":"a8ebce77-6ced-49e2-935f-70f3d5780e07","providers":[{"namespace":"Microsoft.OperationalInsights","resourceTypes":[{"resourceType":"workspaces","locations":["westus2"]}]}],"dependencies":[]}}'}
    headers:
      azure-asyncoperation: ['https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/org-iaas-la-rg/providers/Microsoft.Resources/deployments/org-workload-iaas-deployment-la/operationStatuses/08586513881554591665?api-version=2018-05-01']
      cache-control: [no-cache]
      content-length: ['1195']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:18:50 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      transfer-encoding: [chunked]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/org-iaas-la-rg/providers/Microsoft.Resources/deployments/org-workload-iaas-deployment-la/operationStatuses/08586513881554591665?api-version=2018-05-01
  response:
    body: {string: '{"status":"Succeeded"}'}
    headers:
      cache-control: [no-cache]
      content-length: ['22']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:19:20 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      User-Agent: [python/3.6.5 (Darwin-18.2.0-x86_64-i386-64bit) msrest/0.6.4 msrest_azure/0.6.0
          resourcemanagementclient/2.1.0 Azure-SDK-For-Python]
    method: GET
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/org-iaas-la-rg/providers/Microsoft.Resources/deployments/org-workload-iaas-deployment-la?api-version=2018-05-01
  response:
    body: {string: '{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.Resources/deployments/org-workload-iaas-deployment-la","name":"org-workload-iaas-deployment-la","properties":{"templateHash":"7373821363752239923","parameters":{"deployment-prefix":{"type":"String","value":"org-iaas"},"service-tier":{"type":"String","value":"PerNode"},"data-retention":{"type":"Int","value":30},"location":{"type":"String","value":"West
        US 2"},"sas-key":{"type":"String","value":"se=2019-02-16T00%3A18%3A36Z&sp=r&spr=https&sv=2018-03-28&ss=b&srt=o&sig=JwYBirxaJJNuvCNWb2W/ARclpuwh8WTcAgpS7aOAoa4%3D"},"output-params-storage-key":{"type":"String","value":"abhilQXu5bl0SupY1dseiX95b6eBNA6R0Ho0d9FbHpTFC+B1cEUhgWr9oIEagQXGdilU5raOIpH5Pq/XVv7ifA=="},"output-params-storage-account-name":{"type":"String","value":"storage"}},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2019-02-15T08:19:07.8816832Z","duration":"PT17.8632241S","correlationId":"a8ebce77-6ced-49e2-935f-70f3d5780e07","providers":[{"namespace":"Microsoft.OperationalInsights","resourceTypes":[{"resourceType":"workspaces","locations":["westus2"]}]}],"dependencies":[],"outputs":{"oms-id":{"type":"String","value":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.OperationalInsights/workspaces/org-iaas-la"},"oms-workspace-resourceGroup":{"type":"String","value":"org-iaas-la-rg"},"oms-workspace-name":{"type":"String","value":"org-iaas-la"},"oms-workspace-id":{"type":"String","value":"1c8a86f6-69c5-4299-82b6-8f06db51a757"},"oms-primary-shared-key":{"type":"String","value":"U3KGMQI94a2PfGyXNu0ZFRNfPfzFaGlHrfnOfqMaGvVAzVHet7Ux64Odhfa+DRiUXuXcEnetQCqhS2WiiOP+3g=="}},"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.OperationalInsights/workspaces/org-iaas-la"}]}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['1950']
      content-type: [application/json; charset=utf-8]
      date: ['Fri, 15 Feb 2019 08:19:21 GMT']
      expires: ['-1']
      pragma: [no-cache]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      vary: [Accept-Encoding]
      x-content-type-options: [nosniff]
    status: {code: 200, message: OK}
- request:
    body: null
    headers:
      Connection: [keep-alive]
      User-Agent: [Azure-Storage/1.4.0-1.4.0 (Python CPython 3.6.5; Darwin 18.2.0)]
      x-ms-date: ['Fri, 15 Feb 2019 08:19:21 GMT']
      x-ms-version: ['2018-03-28']
    method: GET
    uri: https://storage.blob.core.windows.net/output?restype=container
  response:
    body: {string: ''}
    headers:
      date: ['Fri, 15 Feb 2019 08:19:21 GMT']
      etag: ['"0x8D677F58F5F4F8F"']
      last-modified: ['Fri, 11 Jan 2019 18:49:47 GMT']
      server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      transfer-encoding: [chunked]
      x-ms-has-immutability-policy: ['false']
      x-ms-has-legal-hold: ['false']
      x-ms-lease-state: [available]
      x-ms-lease-status: [unlocked]
      x-ms-version: ['2018-03-28']
    status: {code: 200, message: OK}
- request:
    body: 'b''b\''b\\\''{"oms-id": { "value": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/org-iaas-la-rg/providers/Microsoft.OperationalInsights/workspaces/org-iaas-la"},
      "oms-workspace-resourceGroup": { "value": "org-iaas-la-rg"}, "oms-workspace-name":
      { "value": "org-iaas-la"}, "oms-workspace-id": { "value": "1c8a86f6-69c5-4299-82b6-8f06db51a757"},
      "oms-primary-shared-key": { "value": "U3KGMQI94a2PfGyXNu0ZFRNfPfzFaGlHrfnOfqMaGvVAzVHet7Ux64Odhfa+DRiUXuXcEnetQCqhS2WiiOP+3g=="}}\\\''\'''''
    headers:
      Connection: [keep-alive]
      Content-Length: ['498']
      User-Agent: [Azure-Storage/1.4.0-1.4.0 (Python CPython 3.6.5; Darwin 18.2.0)]
      x-ms-blob-type: [BlockBlob]
      x-ms-date: ['Fri, 15 Feb 2019 08:19:22 GMT']
      x-ms-version: ['2018-03-28']
    method: PUT
    uri: https://storage.blob.core.windows.net/output/org-workload-iaas/parameters/la/azureDeploy.parameters.output.json
  response:
    body: {string: ''}
    headers:
      content-md5: [vtd6B1BpcvV1ZYjlkvUiLw==]
      date: ['Fri, 15 Feb 2019 08:19:21 GMT']
      etag: ['"0x8D6931E4A3E9926"']
      last-modified: ['Fri, 15 Feb 2019 08:19:22 GMT']
      server: [Windows-Azure-Blob/1.0 Microsoft-HTTPAPI/2.0]
      transfer-encoding: [chunked]
      x-ms-request-server-encrypted: ['true']
      x-ms-version: ['2018-03-28']
    status: {code: 201, message: Created}
version: 1
